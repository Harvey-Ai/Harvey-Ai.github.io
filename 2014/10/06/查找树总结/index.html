<!DOCTYPE html><html lang="en"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="Hello"><title>查找树总结 | Wei's Words</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=1.0.0"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/normalize/latest/normalize.min.css"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/pure/latest/pure-min.min.css"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/pure/latest/grids-responsive-min.min.css"><link rel="stylesheet" href="//lib.baomitu.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//lib.baomitu.com/jquery/latest/jquery.min.js"></script><link rel="icon" mask="" sizes="any" href="/favicon.ico"><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><script type="text/javascript" src="//lib.baomitu.com/clipboard.js/latest/clipboard.min.js"></script><script type="text/javascript" src="//lib.baomitu.com/toastr.js/latest/toastr.min.js"></script><link rel="stylesheet" href="//lib.baomitu.com/toastr.js/latest/toastr.min.css"><meta name="generator" content="Hexo 6.3.0"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">查找树总结</h1><a id="logo" href="/.">Wei's Words</a><p class="description"></p></div><div id="nav-menu"><a class="current" href="/."><i class="fa fa-home"> Home</i></a><a href="/archives/"><i class="fa fa-archive"> Archive</i></a><a href="/about/"><i class="fa fa-user"> About</i></a><a href="/atom.xml"><i class="fa fa-rss"> RSS</i></a></div></div><div class="pure-g" id="layout"><div class="pure-u-1 pure-u-md-4-4"><div class="content_container"><div class="post"><h1 class="post-title">查找树总结</h1><div class="post-meta">2014-10-06<span> | </span><span class="category"><a href="/categories/Algorithm/">Algorithm</a></span></div><div class="post-content"><p>查找树的种类很多，最基本的是二分查找树，然后有为解决平衡性的红黑树和AVL树，然后有为了减小树高的B树和B+树。这些查找树的目的都是为了查找，将数据按树的性状进行组织，便与以后的查找。</p>
<h3 id="二分查找树"><a href="#二分查找树" class="headerlink" title="二分查找树"></a><strong>二分查找树</strong></h3><p>二分查找树是最基本的，如果没有特殊需求，二分查找树能应付大部分的查找问题。二分查找树将数据组织成二叉树形式，左儿子所在子树中节点都小于当前节点值，而右儿子所在子树中节点都大于当前节点值，所以该树的中根遍历会是一个有序序列。</p>
<ol>
<li>所有非叶子结点至多拥有两个儿子（Left和Right）；</li>
<li>所有结点存储一个关键字；</li>
<li>非叶子结点的左指针指向小于其关键字的子树，右指针指向大于其关键字的子树；<br><a target="_blank" rel="noopener" href="http://115.28.13.176/blog/wp-content/uploads/2014/10/binary-search-tree.png"><img src="http://115.28.13.176/blog/wp-content/uploads/2014/10/binary-search-tree.png"></a></li>
</ol>
<h5 id="二分查找树的查找、插入和删除"><a href="#二分查找树的查找、插入和删除" class="headerlink" title="**二分查找树的查找、插入和删除 **"></a>**二分查找树的查找、插入和删除 **</h5><p>二分查找树的查找从根节点开始，如果查找值等于当前节点值就返回，大于则找右根树中查找，小于则在左根树中查找，查找复杂度为O(logN)。</p>
<p>插入节点就是要找到比插入节点大的第一个位置，复杂度为O(logN)。</p>
<ol>
<li><p>如果查找树中有该节点，则返回；</p>
</li>
<li><p>如果当前树节点值大于插入节点值，则进入左节点；</p>
</li>
<li><p>如果当前树节点值小于插入节点值，则进入右节点。<br>删除节点比较繁琐，复杂度同样是O(logN)。</p>
</li>
<li><p>如果是删除节点是叶子节点，则直接删除。</p>
</li>
<li><p>如果不是叶子节点，需要找出左子节点的最大值节点或者是右子节点的最小值节点来填充被删除节点的位置。<br>有人会问：二分查找树的优点在哪里呢，如果是对一些数据的索引，可以先排序再二分查找阿，这样效率和二分查找树一样阿！重点就在这里，二分查找树的好处就在于他是在线处理，可以随时增减数据，如果换作排序，恐怕是非常难做到的。</p>
</li>
</ol>
<p><a target="_blank" rel="noopener" href="http://115.28.13.176/blog/wp-content/uploads/2014/10/regression-tree.png"><img src="http://115.28.13.176/blog/wp-content/uploads/2014/10/regression-tree.png"></a></p>
<h3 id="红黑树"><a href="#红黑树" class="headerlink" title="红黑树"></a><strong>红黑树</strong></h3><p>二分查找树是一个非常优秀的数据结构，但是有一个问题，如果数据不均匀可能会产生退化树的现象（如上图右侧），比如插入一个有序数据串，那么得到的树就是一个高度为N的退化树。所以为了解决退化问题，产生了红黑树和AVL树。</p>
<p>红黑树和AVL树不是完全平衡树，不过仅比平衡树差一点点，基本思想是通过旋转来调整高度，使得树变得平衡。</p>
<h3 id="AVL树"><a href="#AVL树" class="headerlink" title="AVL树"></a><strong>AVL树</strong></h3><h3 id="B树"><a href="#B树" class="headerlink" title="B树"></a><strong>B树</strong></h3><p>在计算机中经常会碰到这样一类问题，就是I&#x2F;O瓶颈问题，B树就是为了解决I&#x2F;O问题而产生的。在数据库中，底层数据也是要用一些结构来存储，显然不能线形存储，可是如果用二分查找树来组织的话，更深入一层就相当于一次I&#x2F;O，没有控制树高的二分查找树可能会造成大量I&#x2F;O，导致查询缓慢。</p>
<p>如何解决这个问题，B树应运而生，B树是一棵多路查找树，每个节点的儿子节点有K个，树高比较矮，节点比较胖，这样使得查找深度很小，从而解决了I&#x2F;O的问题。</p>
<p>B树定义如下：</p>
<ol>
<li>定义任意非叶子结点最多只有M个儿子；且M&gt;2；</li>
<li>根结点的儿子数为[2, M]；</li>
<li>除根结点以外的非叶子结点的儿子数为[M&#x2F;2, M]；</li>
<li>每个结点存放至少M&#x2F;2-1（取上整）和至多M-1个关键字（至少2个关键字）；</li>
<li>非叶子结点的关键字个数&#x3D;指向儿子的指针个数-1；</li>
<li>非叶子结点的关键字：K[1], K[2], …, K[M-1]；且K[i] &lt; K[i+1]；</li>
<li>非叶子结点的指针：P[1], P[2], …, P[M]；其中P[1]指向关键字小于K[1]的子树，P[M]向关键字大于K[M-1]的子树，其它P[i]指向关键字属于(K[i-1], K[i])的子树；</li>
<li>所有叶子结点位于同一层；<br>如（M&#x3D;3）：</li>
</ol>
<p><a target="_blank" rel="noopener" href="http://115.28.13.176/blog/wp-content/uploads/2014/10/B-tree.png"><img src="http://115.28.13.176/blog/wp-content/uploads/2014/10/B-tree.png"></a></p>
<p>B树有一些特性：</p>
<ol>
<li>关键字集合分布在整颗树中；</li>
<li>任何一个关键字出现且只出现在一个结点中；</li>
<li>搜索有可能在非叶子结点结束；</li>
<li>其搜索性能等价于在关键字全集内做一次二分查找；</li>
<li>自动层次控制；</li>
</ol>
<h5 id="B树的查找、插入、删除"><a href="#B树的查找、插入、删除" class="headerlink" title="B树的查找、插入、删除"></a><strong>B树的查找、插入、删除</strong></h5><p>B树的查找很简单，就是依次在每个节点上进行二分查找，如果没找到且有子区间包含该关键字，则进入儿子节点进行再查找；如果没有子区间包含该关键字则退出，查找失败。查找的复杂度为O(logN)。</p>
<p>B树的插入和删除比较复杂，因为有节点关键词个数的限制，所以有分裂和合并的操作，当被插入的节点已满时，将节点分裂成2个占M&#x2F;2的结点，当删除节点时， 需将两个不足M&#x2F;2的兄弟进行合并。</p>
<h3 id="B-树"><a href="#B-树" class="headerlink" title="B+树"></a><strong>B+树</strong></h3><p>B+树是B树的变体，也是一种多路查找树，解决的问题也是树高的问题。与B树不同的是，B+树将关键词都下放到叶子节点，树中节点的关键词只做索引使用可能并未出现。所以，查找过程中，不可能出现再非叶节点上查找失败的情况，只有当找到叶子节点没有找到才能说明查找失败。<br>另外一方面就是，B+树的叶子节点在同一层，然后B+树增加了一个链表将所有叶子节点串联起来，形成一个有序链表。<br>如（M&#x3D;3）：</p>
<p><a target="_blank" rel="noopener" href="http://115.28.13.176/blog/wp-content/uploads/2014/10/B-tree1.png"><img src="http://115.28.13.176/blog/wp-content/uploads/2014/10/B-tree1.png"></a></p>
<p>B+的特性：</p>
<ol>
<li>所有关键字都出现在叶子结点的链表中（稠密索引），且链表中的关键字恰好是有序的；</li>
<li>不可能在非叶子结点命中；</li>
<li>非叶子结点相当于是叶子结点的索引（稀疏索引），叶子结点相当于是存储（关键字）数据的数据层；</li>
<li>更适合文件索引系统；</li>
</ol>
<h3 id="小结"><a href="#小结" class="headerlink" title="小结"></a><strong>小结</strong></h3><ol>
<li>二分查找树：二叉树，每个结点只存储一个关键字，等于则命中，小于走左结点，大于走右结点。</li>
<li>红黑树：</li>
<li>AVL树：</li>
<li>B树：多路搜索树，每个结点存储M&#x2F;2到M个关键字，非叶子结点存储指向关键字范围的子结点；所有关键字在整颗树中出现，且只出现一次，非叶子结点可以命中。</li>
<li>B+树：在B-树基础上，为叶子结点增加链表指针，所有关键字都在叶子结点中出现，非叶子结点作为叶子结点的索引；B+树总是到叶子结点才命中。</li>
</ol>
</div><div class="tags"><ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/AVL%E6%A0%91/" rel="tag">AVL树</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/B%E6%A0%91/" rel="tag">B树</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E4%BA%8C%E5%88%86%E6%9F%A5%E6%89%BE%E6%A0%91/" rel="tag">二分查找树</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E7%BA%A2%E9%BB%91%E6%A0%91/" rel="tag">红黑树</a></li></ul></div><div class="post-nav"><a class="pre" href="/2014/11/25/%E6%B5%AE%E8%90%8D/">浮萍</a><a class="next" href="/2014/10/06/%E7%BA%BF%E6%AE%B5%E6%95%B0%E6%80%BB%E7%BB%93/">线段数总结</a></div></div></div></div><div class="pure-u-1 pure-u-md-4-4"><div id="footer">Copyright © 2023 <a href="/." rel="nofollow">Wei's Words.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a class="show" id="rocket" href="#top"></a><script type="text/javascript" src="/js/totop.js?v=1.0.0" async></script><script type="text/javascript" src="//lib.baomitu.com/fancybox/latest/jquery.fancybox.min.js"></script><script type="text/javascript" src="/js/fancybox.js?v=1.0.0"></script><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/fancybox/latest/jquery.fancybox.min.css"><script type="text/javascript" src="/js/copycode.js?v=1.0.0" successtext="Copy Successed!"></script><link rel="stylesheet" type="text/css" href="/css/copycode.css?v=1.0.0"><script type="text/javascript" src="/js/codeblock-resizer.js?v=1.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=1.0.0"></script></div></body></html>